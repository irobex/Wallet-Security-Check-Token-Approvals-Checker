# Roadmap (RU) ‚Äî Wallet Guard (–±–æ—Ç + –æ–ø–ª–∞—Ç—ã —á–µ—Ä–µ–∑ NOWPayments + –æ—Ç—á—ë—Ç—ã approvals)

–¶–µ–ª—å: —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É ‚Äú–ø–æ–¥ –∫–ª—é—á‚Äù –ø–æ –¢–ó –∏–∑ `docs/project.md` –∏ `docs/01_REPORT_ENGINE.md`.

## –ö–∞–∫ –º—ã –≤–µ–¥—ë–º –ø—Ä–æ–≥—Ä–µ—Å—Å

- –ö–∞–∂–¥—ã–π –ø—É–Ω–∫—Ç –Ω–∏–∂–µ ‚Äî —ç—Ç–æ ‚Äú–≥–æ—Ç–æ–≤–∞—è‚Äù –µ–¥–∏–Ω–∏—Ü–∞ —Ä–∞–±–æ—Ç—ã.
- –ö–æ–≥–¥–∞ —è –≤—ã–ø–æ–ª–Ω—è—é 1‚Äì3 –ø—É–Ω–∫—Ç–∞, —è **—Å—Ç–∞–≤–ª—é –≥–∞–ª–æ—á–∫–∏** –≤ –∫–æ–Ω—Ü–µ —ç—Ç–æ–≥–æ —Ñ–∞–π–ª–∞ –∏ —Ñ–∏–∫—Å–∏—Ä—É—é –∫—Ä–∞—Ç–∫—É—é –∑–∞–º–µ—Ç–∫—É (—á—Ç–æ –∏–º–µ–Ω–Ω–æ —Å–¥–µ–ª–∞–Ω–æ / –≥–¥–µ).
- –ï—Å–ª–∏ –ø–æ —Ö–æ–¥—É –≤—ã—è—Å–Ω–∏—Ç—Å—è, —á—Ç–æ –Ω—É–∂–µ–Ω –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –ø—É–Ω–∫—Ç ‚Äî –¥–æ–±–∞–≤–ª—è—é –µ–≥–æ —Å—é–¥–∞ –æ—Ç–¥–µ–ª—å–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π.

---

## –≠—Ç–∞–ø 0 ‚Äî –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π, –∫–∞—Ä–∫–∞—Å, –æ–∫—Ä—É–∂–µ–Ω–∏–µ

- [x] –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –º–æ–Ω–æ—Ä–µ–ø–æ (–ø–∞–ø–∫–∏ `src/`, `scripts/`, `docs/`) –ø–æ —Å—Ö–µ–º–µ –∏–∑ –¢–ó.
- [x] –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å Node.js + TypeScript –ø—Ä–æ–µ–∫—Ç (`package.json`, `tsconfig.json`).
- [x] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ/–∫–∞—á–µ—Å—Ç–≤–æ (eslint + prettier) –∏ –±–∞–∑–æ–≤—ã–µ npm scripts.
- [x] –î–æ–±–∞–≤–∏—Ç—å `docker-compose.yml` (Postgres + —Å–µ—Ä–≤–∏—Å—ã: bot / workers).
- [x] –î–æ–±–∞–≤–∏—Ç—å —à–∞–±–ª–æ–Ω –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è (–≤–º–µ—Å—Ç–æ `.env.example` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `env.example`, —Ç.–∫. —Å–æ–∑–¥–∞–Ω–∏–µ `.env.example` –≤ —ç—Ç–æ–π —Å—Ä–µ–¥–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ).
- [x] –î–æ–±–∞–≤–∏—Ç—å –±–∞–∑–æ–≤—ã–π `README.md` (SEO + –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞ + quick start free script).

## –≠—Ç–∞–ø 1 ‚Äî –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (PostgreSQL) –∏ –º–∏–≥—Ä–∞—Ü–∏–∏

- [x] –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Postgres –∏–∑ Node.js (–ø—É–ª/–∫–ª–∏–µ–Ω—Ç) –∏ –∫–æ–Ω—Ñ–∏–≥ `DATABASE_URL`.
- [x] –ú–∏–≥—Ä–∞—Ü–∏—è `001_init.sql`: —Ç–∞–±–ª–∏—Ü—ã `users`, `orders`, `reports`, `monitoring_subscriptions`, –∏–Ω–¥–µ–∫—Å—ã, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è.
- [x] –ú–∏–Ω–∏-—Å–ª–æ–π –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º (–ø—Ä–æ—Å—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è) –¥–ª—è users/orders/reports.

## –≠—Ç–∞–ø 2 ‚Äî Telegram Bot (MVP UX)

- [x] –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram-–±–æ—Ç–∞ (–≤—ã–±—Ä–∞—Ç—å `grammY`) –∏ –±–∞–∑–æ–≤–∞—è –∫–æ–º–∞–Ω–¥–∞ `/start`.
- [x] –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã —Ç–µ–∫—Å—Ç–æ–≤ –∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä (`src/bot/ui/texts.ts`, `src/bot/ui/keyboards.ts`).
- [x] –≠–∫—Ä–∞–Ω ‚Äúüîç –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—à–µ–ª—ë–∫‚Äù: –∑–∞–ø—Ä–æ—Å –∞–¥—Ä–µ—Å–∞ + –≤–∞–ª–∏–¥–∞—Ü–∏—è ETH-–∞–¥—Ä–µ—Å–∞.
- [x] Free preview: –ø–æ–¥—Å—á—ë—Ç—ã (approvals total, unlimited count, top tokens) + –∫–Ω–æ–ø–∫–∏ —Ç–∞—Ä–∏—Ñ–æ–≤. *(–ø–æ–∫–∞ –∑–∞–≥–ª—É—à–∫–∞, —Ä–µ–∞–ª—å–Ω—ã–µ –ø–æ–¥—Å—á—ë—Ç—ã –±—É–¥—É—Ç –≤ –≠—Ç–∞–ø–µ 4)*
- [x] –≠–∫—Ä–∞–Ω –æ–ø–ª–∞—Ç—ã: —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞ + –ø–æ–∫–∞–∑ —Å—É–º–º—ã/–∞–¥—Ä–µ—Å–∞ –æ—Ç NOWPayments + —Å—Ç–∞—Ç—É—Å ‚Äú–æ–∂–∏–¥–∞—é –æ–ø–ª–∞—Ç—É‚Äù.
- [x] –ö–Ω–æ–ø–∫–∞ ‚ÄúüîÑ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–ø–ª–∞—Ç—É‚Äù –∫–∞–∫ —Ä—É—á–Ω–æ–π —Ç—Ä–∏–≥–≥–µ—Ä (–ø—Ä–∏ —ç—Ç–æ–º —Ä–µ–∞–ª—å–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∫—É –¥–µ–ª–∞–µ—Ç worker). *(–ø–æ–∫–∞ –∑–∞–≥–ª—É—à–∫–∞)*

## –≠—Ç–∞–ø 3 ‚Äî –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ø–ª–∞—Ç–µ–∂–Ω–æ–≥–æ –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä–∞ (NOWPayments)

- [x] –°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞ —É NOWPayments (API) –ø—Ä–∏ –≤—ã–±–æ—Ä–µ —Ç–∞—Ä–∏—Ñ–∞.
- [x] Payments Worker: —Ü–∏–∫–ª –∫–∞–∂–¥—ã–µ 15 —Å–µ–∫—É–Ω–¥, –æ–ø—Ä–æ—Å —Å—Ç–∞—Ç—É—Å–∞ –ø–æ `provider_payment_id`.
- [x] –õ–æ–≥–∏–∫–∞ —Å—Ç–∞—Ç—É—Å–æ–≤ –∑–∞–∫–∞–∑–æ–≤: `PENDING_PAYMENT` ‚Üí `PAID` (+ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ `provider_status`, `tx_hash` (–µ—Å–ª–∏ –µ—Å—Ç—å), `paid_amount`, `paid_at`).
- [x] –ó–∞—â–∏—Ç–∞ –æ—Ç –ø—É—Ç–∞–Ω–∏—Ü—ã –ø–ª–∞—Ç–µ–∂–µ–π (–æ–¥–∏–Ω `provider_payment_id` ‚Üí –æ–¥–∏–Ω –∑–∞–∫–∞–∑, –¥–µ–¥—É–ø, –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å).
- [x] –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å—Ç—ë–∫—à–∏—Ö –∑–∞–∫–∞–∑–æ–≤ (—á–µ—Ä–µ–∑ 60 –º–∏–Ω—É—Ç): `EXPIRED` + –ø—Ä–∞–≤–∏–ª–æ ‚Äú–µ—Å–ª–∏ –æ–ø–ª–∞—Ç–∏–ª–∏ –ø–æ–∑–∂–µ ‚Äî –≤—Å—ë —Ä–∞–≤–Ω–æ –¥–æ—Å—Ç–∞–≤–∏—Ç—å‚Äù.

## –≠—Ç–∞–ø 4 ‚Äî –ê–Ω–∞–ª–∏–∑ approvals (Ethereum) –∏ ‚Äú–¥–≤–∏–∂–æ–∫ –æ—Ç—á—ë—Ç–æ–≤‚Äù

- [x] –ü—Ä–æ–≤–∞–π–¥–µ—Ä –¥–∞–Ω–Ω—ã—Ö Approval events: –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `ApprovalEventProvider` + —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ RPC `eth_getLogs` (MVP).
- [x] Snapshot —Ç–µ–∫—É—â–∏—Ö allowances: `allowance(owner, spender)` –¥–ª—è –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö (token, spender).
- [x] Token metadata cache (symbol/name/decimals) —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π reverts. *(–∫–µ—à –≤ Postgres —Ç–∞–±–ª–∏—Ü–µ `token_metadata`)*
- [x] –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ unlimited (MaxUint256 –∏ –ø–æ—Ä–æ–≥ –ø–æ decimals) + –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è allowance –¥–ª—è –æ—Ç—á—ë—Ç–∞.
- [x] –†–µ–ø—É—Ç–∞—Ü–∏—è spender‚Äô–æ–≤ (–º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è): allowlist/denylist + UNKNOWN.
- [x] Risk scoring –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º MVP (LOW/MEDIUM/HIGH) + reason codes + human_reason.
- [x] –ì–µ–Ω–µ—Ä–∞—Ü–∏—è action list (REVOKE_NOW/REVIEW/OK) + —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ ‚Äú–ø–æ —Å—Ä–æ—á–Ω–æ—Å—Ç–∏‚Äù.
- [x] –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä revoke link `buildRevokeLink(chainId, owner, token, spender)`.

## –≠—Ç–∞–ø 5 ‚Äî –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ –¥–æ—Å—Ç–∞–≤–∫–∞ –æ—Ç—á—ë—Ç–æ–≤ (Telegram/CSV/HTML/PDF)

- [x] –ú–æ–¥–µ–ª—å `reports.data_json` (—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏–∑ `01_REPORT_ENGINE.md`) + —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞.
- [x] Telegram summary (–∫–æ—Ä–æ—Ç–∫–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ) + –∫–Ω–æ–ø–∫–∏ (‚Äú–ü–æ–∫–∞–∑–∞—Ç—å HIGH‚Äù, ‚ÄúRevoke links‚Äù, ‚Äú–°–∫–∞—á–∞—Ç—å CSV‚Äù).
- [x] CSV –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä (–∫–æ–ª–æ–Ω–∫–∏ –ø–æ —Å–ø–µ–∫–∞–º) + —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ –≤ `REPORTS_STORAGE_PATH`.
- [x] HTML –æ—Ç—á—ë—Ç (EJS —à–∞–±–ª–æ–Ω) + —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–∞.
- [x] PDF –æ—Ç—á—ë—Ç (Playwright) —Ä–µ–Ω–¥–µ—Ä HTML ‚Üí PDF (A4, —á/–± —á–∏—Ç–∞–±–µ–ª—å–Ω–æ) + —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–∞.
- [x] Reports Worker: –ø–æ—Å—Ç–∞–Ω–æ–≤–∫–∞/–≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏ –¥–æ—Å—Ç–∞–≤–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é (—Ñ–∞–π–ª + summary).

## –≠—Ç–∞–ø 6 ‚Äî –¢–∞—Ä–∏—Ñ—ã Lite / Pro / Max (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ —Ñ–∏—á–∏)

- [x] Lite: –ª–∏–º–∏—Ç —Å—Ç—Ä–æ–∫ –æ—Ç—á—ë—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä 30, –ø–æ ‚Äú–æ–ø–∞—Å–Ω–æ—Å—Ç–∏‚Äù), —Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç + CSV, –±—ã—Å—Ç—Ä—ã–π —Ç–∞–π–º-–±—é–¥–∂–µ—Ç.
- [x] Pro: –ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ (–≤ —Ä–∞–∑—É–º–Ω—ã—Ö –ø—Ä–µ–¥–µ–ª–∞—Ö), HTML + CSV, —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã/—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏.
- [x] Max: PDF + CSV, best-effort ‚Äúinteraction snapshot‚Äù, –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ 30 –¥–Ω–µ–π. *(PDF —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –±—É–¥–µ—Ç –≤ –≠—Ç–∞–ø–µ 7)*

## –≠—Ç–∞–ø 7 ‚Äî –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (Max)

- [x] `monitoring_subscriptions`: —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ 30 –¥–Ω–µ–π –ø–æ—Å–ª–µ –ø–æ–∫—É–ø–∫–∏ Max.
- [x] Monitoring Worker: –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–π –ø–µ—Ä–µ—Å–∫–∞–Ω approvals, —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å–æ snapshot, –∞–ª–µ—Ä—Ç—ã –≤ Telegram –ø—Ä–∏ –Ω–æ–≤—ã—Ö risky approvals.

## –≠—Ç–∞–ø 8 ‚Äî –ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, –∞–¥–º–∏–Ω-–∞–ª–µ—Ä—Ç—ã

- [x] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑ —É—Ç–µ—á–µ–∫ —Å–µ–∫—Ä–µ—Ç–æ–≤ (mnemonic, —Ç–æ–∫–µ–Ω—ã, –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ).
- [x] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∞–¥–º–∏–Ω—É (`ADMIN_TELEGRAM_ID`) –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏—è—Ö/–æ—à–∏–±–∫–∞—Ö –≤–æ—Ä–∫–µ—Ä–æ–≤.
- [x] –õ–∏–º–∏—Ç—ã/–¥–µ–≥—Ä–∞–¥–∞—Ü–∏—è –ø—Ä–∏ ‚Äú—Ç—è–∂—ë–ª—ã—Ö‚Äù –∫–æ—à–µ–ª—å–∫–∞—Ö (–º–∞–∫—Å —Ç–æ–∫–µ–Ω–æ–≤/–ø–∞—Ä, graceful warning –≤ –æ—Ç—á—ë—Ç–µ).

## –≠—Ç–∞–ø 9 ‚Äî –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –¥–µ–ø–ª–æ–π

- [x] –û–±–Ω–æ–≤–∏—Ç—å/—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å README –ø–æ–¥ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é.
- [x] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ `docs/03_DEBIAN12_SETUP.md` —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–º –∫–æ–º–∞–Ω–¥–∞–º/—Å–µ—Ä–≤–∏—Å–∞–º.

---

## –ñ—É—Ä–Ω–∞–ª –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (–æ—Ç–º–µ—á–∞–µ–º –ø–æ —Ñ–∞–∫—Ç—É)

> –¢—É—Ç —è –±—É–¥—É –¥–æ–±–∞–≤–ª—è—Ç—å –∫–æ—Ä–æ—Ç–∫–∏–µ –∑–∞–ø–∏—Å–∏ –≤–∏–¥–∞: ‚Äú‚úÖ –¥–∞—Ç–∞ ‚Äî –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –ø—É–Ω–∫—Ç—ã X/Y, —Ñ–∞–π–ª—ã ‚Ä¶‚Äù.

‚úÖ 2025-12-19 ‚Äî –≤—ã–ø–æ–ª–Ω–µ–Ω –≠—Ç–∞–ø 0 (–∫–∞—Ä–∫–∞—Å –ø—Ä–æ–µ–∫—Ç–∞): `package.json`, `tsconfig.json`, `eslint.config.js`, `docker-compose.yml`, `Dockerfile`, `README.md`, `src/`, `scripts/free-approvals-viewer/`, `env.example`.



