# –ñ—É—Ä–Ω–∞–ª –∏–∑–º–µ–Ω–µ–Ω–∏–π (RU) ‚Äî Wallet Guard

–≠—Ç–æ—Ç —Ñ–∞–π–ª ‚Äî **–ª–æ–≥ –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø–æ —Ö–æ–¥—É —Ä–∞–±–æ—Ç—ã**, –ø–æ—Ö–æ–∂–∏–π –ø–æ —Å–º—ã—Å–ª—É –Ω–∞ ‚Äú—Å–æ–æ–±—â–µ–Ω–∏—è –∫–æ–º–º–∏—Ç–æ–≤‚Äù, –Ω–æ –±–æ–ª–µ–µ –ø—Ä–∏–∫–ª–∞–¥–Ω–æ–π:
- —á—Ç–æ –∏–∑–º–µ–Ω–∏–ª–∏ –∏ –∑–∞—á–µ–º,
- –∫–∞–∫–∏–µ —Ñ–∞–π–ª—ã/–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –∑–∞—Ç—Ä–æ–Ω—É–ª–∏,
- –∫–∞–∫–∏–µ —Ä–µ—à–µ–Ω–∏—è –ø—Ä–∏–Ω—è–ª–∏ (–µ—Å–ª–∏ –≤–∞–∂–Ω–æ),
- —á—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å/–∑–∞–º–µ—Ç–∫–∏.

**–ü—Ä–∞–≤–∏–ª–æ –≤–µ–¥–µ–Ω–∏—è**: –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∑–∞–º–µ—Ç–Ω–æ–≥–æ —à–∞–≥–∞ (–æ–±—ã—á–Ω–æ 1‚Äì3 –ø—É–Ω–∫—Ç–∞ –∏–∑ roadmap) —è –¥–æ–±–∞–≤–ª—è—é –Ω–æ–≤—É—é –∑–∞–ø–∏—Å—å –≤ –Ω–∞—á–∞–ª–æ —Å–ø–∏—Å–∫–∞ (—Å–≤–µ—Ä—Ö—É ‚Äî —Å–∞–º–æ–µ –Ω–æ–≤–æ–µ).

---

## –§–æ—Ä–º–∞—Ç –∑–∞–ø–∏—Å–∏

**–î–∞—Ç–∞/–≤—Ä–µ–º—è**: YYYY-MM-DD HH:MM (–ª–æ–∫–∞–ª—å–Ω–æ)  
**–ö–æ—Ä–æ—Ç–∫–æ**: 1 —Å—Ç—Ä–æ–∫–∞ (–∫–∞–∫ commit message)  
**–î–µ—Ç–∞–ª–∏**:
- **–°–¥–µ–ª–∞–Ω–æ**: ‚Ä¶
- **–§–∞–π–ª—ã**: `...`, `...`
- **–ü—Ä–∏—á–∏–Ω–∞/–∫–æ–Ω—Ç–µ–∫—Å—Ç**: ‚Ä¶
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: —á—Ç–æ —Ä—É–∫–∞–º–∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
- **–ó–∞–º–µ—Ç–∫–∏**: —Ä–∏—Å–∫–∏/–¥–æ–ª–≥–∏/–æ–≥–æ–≤–æ—Ä–∫–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å)

---

## –ó–∞–ø–∏—Å–∏

**–î–∞—Ç–∞/–≤—Ä–µ–º—è**: 2025-12-19 14:20  
**–ö–æ—Ä–æ—Ç–∫–æ**: –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –∞–≤—Ç–æ-–∫–æ–Ω—Å–æ–ª–∏–¥–∞—Ü–∏—è USDT (sweep) ‚Äî –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é –¥–æ–∫–∏–¥—ã–≤–∞—Ç—å TRX –Ω–∞ –∫–∞–∂–¥—ã–π pay-address  
**–î–µ—Ç–∞–ª–∏**:
- **–°–¥–µ–ª–∞–Ω–æ**:
  - –¥–æ–±–∞–≤–ª–µ–Ω—ã env-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –∞–≤—Ç–æ-sweep: `TRON_SWEEP_ENABLED`, `TRON_SWEEP_TO_ADDRESS`, `TRON_TREASURY_HD_INDEX`, `TRON_SWEEP_TOPUP_TRX`
  - `payments-worker` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –ø–æ—Å–ª–µ `PAID`:
    - –¥–æ–∫–∏–¥—ã–≤–∞–µ—Ç TRX –Ω–∞ pay-address –∏–∑ treasury (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
    - –ø–µ—Ä–µ–≤–æ–¥–∏—Ç USDT –Ω–∞ `TRON_SWEEP_TO_ADDRESS`
  - –¥–æ–±–∞–≤–ª–µ–Ω—ã —É—Ç–∏–ª–∏—Ç—ã sweep –∏ derivation –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ –∫–ª—é—á–∞ –∏–∑ mnemonic
- **–§–∞–π–ª—ã**:
  - `src/workers/paymentsWorker.ts`
  - `src/payments/tron/sweep.ts`, `src/payments/tron/hd.ts`
  - `src/core/config.ts`, `env.example`, `docs/03_DEBIAN12_SETUP.md`
- **–ü—Ä–∏—á–∏–Ω–∞/–∫–æ–Ω—Ç–µ–∫—Å—Ç**: TRC20 transfer —Ç—Ä–µ–±—É–µ—Ç TRX fee/energy; —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∞–¥—Ä–µ—Å–∞ –Ω–∞ –∑–∞–∫–∞–∑ –Ω–µ–ª—å–∑—è ‚Äú—Å–æ–±–∏—Ä–∞—Ç—å‚Äù –±–µ–∑ TRX. –ê–≤—Ç–æ-sweep –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ø–æ–ª–Ω—è—Ç—å TRX —Ç–æ–ª—å–∫–æ –Ω–∞ –æ–¥–Ω–æ–º treasury-–∞–¥—Ä–µ—Å–µ.

**–î–∞—Ç–∞/–≤—Ä–µ–º—è**: 2025-12-19 14:00  
**–ö–æ—Ä–æ—Ç–∫–æ**: –î–æ–≤–µ–¥—ë–Ω –¥–æ DELIVERED —É–∂–µ –æ–ø–ª–∞—á–µ–Ω–Ω—ã–π –∑–∞–∫–∞–∑ (3 USDT) –±–µ–∑ –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –æ–ø–ª–∞—Ç—ã ‚Äî Infura throttling/—Ä–µ—Ç—Ä–∞–∏ –æ—Ç—Ä–∞–±–æ—Ç–∞–ª–∏  
**–î–µ—Ç–∞–ª–∏**:
- **–°–¥–µ–ª–∞–Ω–æ**:
  - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω –¥–µ—Ç–µ–∫—Ç–æ—Ä rate-limit –≤ ethers `BAD_DATA` (Infura `-32005` –ª–µ–∂–∏—Ç –≤–Ω—É—Ç—Ä–∏ `value[]`)
  - —É—Å–∏–ª–µ–Ω throttle `eth_getLogs` (~1.2s –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏) + backoff –Ω–∞ 429
  - `reports-worker` –ø—Ä–∏ rate limit –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–∞–∫–∞–∑ –≤ `PAID` (—Ä–µ—Ç—Ä–∞–π), –∞ –Ω–µ –ø–µ—Ä–µ–≤–æ–¥–∏—Ç –≤ `FAILED`
  - –∑–∞–∫–∞–∑ `feb9c926-...` —É—Å–ø–µ—à–Ω–æ –¥–æ—à—ë–ª –¥–æ `DELIVERED`, CSV —Å–æ—Ö—Ä–∞–Ω—ë–Ω –≤ `/data/reports/orders/<order_id>/report.csv`
- **–§–∞–π–ª—ã**:
  - `src/eth/approvals/rpcApprovalEventProvider.ts`
  - `src/workers/reportsWorker.ts`
  - `docs/05_TEST_ROADMAP_RU.md`

**–î–∞—Ç–∞/–≤—Ä–µ–º—è**: 2025-12-19 13:45  
**–ö–æ—Ä–æ—Ç–∫–æ**: –û–ø–ª–∞—Ç–∞ 3 USDT –∑–∞—Å—á–∏—Ç–∞–Ω–∞, –Ω–æ –æ—Ç—á—ë—Ç —É–ø–∞–ª –Ω–∞ Infura rate limit ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω—ã —Ä–µ—Ç—Ä–∞–∏ –∏ –∞–≤—Ç–æ–ø–æ–≤—Ç–æ—Ä –±–µ–∑ –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –æ–ø–ª–∞—Ç—ã  
**–î–µ—Ç–∞–ª–∏**:
- **–°–¥–µ–ª–∞–Ω–æ**:
  - `eth_getLogs` —Ç–µ–ø–µ—Ä—å —Ä–µ—Ç—Ä–∞–∏—Ç—Å—è —Å backoff –ø—Ä–∏ `Too Many Requests` –∏ –¥–æ–±–∞–≤–ª–µ–Ω –ª—ë–≥–∫–∏–π throttle –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
  - `reports-worker`: –ø—Ä–∏ rate limit –∑–∞–∫–∞–∑ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ `PAID` (–≤–º–µ—Å—Ç–æ `FAILED`) –∏ –±—É–¥–µ—Ç —Ä–µ—Ç—Ä–∞–∏—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
  - –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Å—É–º–º–∞ –æ–ø–ª–∞—Ç TronGrid: –¥–ª—è USDT TRC20 –∑–Ω–∞—á–µ–Ω–∏–µ —á–∞—Å—Ç–æ –ø—Ä–∏—Ö–æ–¥–∏—Ç –≤ micro-units (`3000000`), —Ç–µ–ø–µ—Ä—å —Å–æ—Ö—Ä–∞–Ω—è–µ–º `3.000000`
- **–§–∞–π–ª—ã**:
  - `src/eth/approvals/rpcApprovalEventProvider.ts`
  - `src/workers/reportsWorker.ts`
  - `src/payments/tron/trongrid.ts`, `src/payments/tron/monitor.ts`
- **–ü—Ä–∏—á–∏–Ω–∞/–∫–æ–Ω—Ç–µ–∫—Å—Ç**: –æ–¥–Ω–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è —É–∂–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞, –ø–æ—ç—Ç–æ–º—É —Å–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ —É–º–µ—Ç—å –¥–æ–≤–µ—Å—Ç–∏ –∑–∞–∫–∞–∑ –¥–æ –¥–æ—Å—Ç–∞–≤–∫–∏ –ø—Ä–∏ transient RPC –æ—à–∏–±–∫–∞—Ö –±–µ–∑ –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –æ–ø–ª–∞—Ç—ã.

**–î–∞—Ç–∞/–≤—Ä–µ–º—è**: 2025-12-19 13:30  
**–ö–æ—Ä–æ—Ç–∫–æ**: Lite —Ç–∞—Ä–∏—Ñ = 3 USDT (min payout) + —É—Å–∏–ª–µ–Ω—ã –ª–æ–≥–∏ –∏ preflight –¥–ª—è –æ–ø–ª–∞—Ç—ã (–æ–¥–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ)  
**–î–µ—Ç–∞–ª–∏**:
- **–°–¥–µ–ª–∞–Ω–æ**:
  - Lite price –∏–∑–º–µ–Ω—ë–Ω –Ω–∞ `3.00` (–≤ UI –∏ –ª–æ–≥–∏–∫–µ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–∫–∞–∑–∞)
  - TronGrid preflight –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞–∫–∞–∑–∞: –µ—Å–ª–∏ API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω ‚Äî –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –∏ admin alert –¥–æ –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–µ–Ω–µ–≥
  - payments-worker –ª–æ–≥–∏—Ä—É–µ—Ç ‚Äúwatching order ‚Ä¶ expected ‚Ä¶ addr ‚Ä¶‚Äù –æ–¥–∏–Ω —Ä–∞–∑ –Ω–∞ –∑–∞–∫–∞–∑
  - –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –≤—Ö–æ–¥—è—â–∏—Ö tx, –Ω–æ —Å—É–º–º–µ –º–µ–Ω—å—à–µ –æ–∂–∏–¥–∞–µ–º–æ–π ‚Äî –ª–æ–≥–∏—Ä—É–µ–º –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ (best value / expected / tx)
- **–§–∞–π–ª—ã**:
  - `src/bot/ui/keyboards.ts`, `src/bot/handlers/plans.ts`, `src/bot/bot.ts`
  - `src/workers/paymentsWorker.ts`, `src/payments/tron/monitor.ts`
  - `README.md`, `docs/README.md`, `docs/project.md`
- **–ü—Ä–∏—á–∏–Ω–∞/–∫–æ–Ω—Ç–µ–∫—Å—Ç**: –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –≤—ã–≤–æ–¥–∞ 2.6 USDT ‚Üí —Ç–µ—Å—Ç–∏—Ä—É–µ–º e2e –æ–ø–ª–∞—Ç—É –Ω–∞ 3 USDT –∏ –º–∏–Ω–∏–º–∏–∑–∏—Ä—É–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –∑–∞ —Å—á—ë—Ç —É–ª—É—á—à–µ–Ω–Ω–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏.

**–î–∞—Ç–∞/–≤—Ä–µ–º—è**: 2025-12-19 12:55  
**–ö–æ—Ä–æ—Ç–∫–æ**: Lite —Ç–∞—Ä–∏—Ñ –≤—Ä–µ–º–µ–Ω–Ω–æ —Å–Ω–∏–∂–µ–Ω –¥–æ 1 USDT –¥–ª—è e2e –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ–ø–ª–∞—Ç—ã TRC20  
**–î–µ—Ç–∞–ª–∏**:
- **–°–¥–µ–ª–∞–Ω–æ**:
  - Lite price: `1.00` (–≤ –±–æ—Ç–µ –∏ –≤ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞–∫–∞–∑–∞)
  - –æ–±–Ω–æ–≤–ª–µ–Ω—ã —Ç–µ–∫—Å—Ç—ã ‚Äú–¢–∞—Ä–∏—Ñ—ã‚Äù –∏ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è —Ü–µ–Ω—ã –≤ README/–¥–æ–∫–∞—Ö (–ø–æ–º–µ—á–µ–Ω–æ –∫–∞–∫ –≤—Ä–µ–º–µ–Ω–Ω–æ–µ –¥–ª—è —Ç–µ—Å—Ç–∞)
- **–§–∞–π–ª—ã**:
  - `src/bot/ui/keyboards.ts`
  - `src/bot/handlers/plans.ts`
  - `README.md`, `docs/README.md`, `docs/project.md`
- **–ü—Ä–∏—á–∏–Ω–∞/–∫–æ–Ω—Ç–µ–∫—Å—Ç**: –Ω—É–∂–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∞–ª—å–Ω—É—é –æ–ø–ª–∞—Ç—É USDT TRC20 –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π —Å—É–º–º–æ–π –±–µ–∑ –ª–∏—à–Ω–∏—Ö –∑–∞—Ç—Ä–∞—Ç.

**–î–∞—Ç–∞/–≤—Ä–µ–º—è**: 2025-12-19 12:50  
**–ö–æ—Ä–æ—Ç–∫–æ**: –£–ª—É—á—à–µ–Ω–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ª–∏–º–∏—Ç–æ–≤ RPC (–ª–æ–≥–∏—Ä—É–µ–º –ø—Ä–∏—á–∏–Ω—É –ø–∞–¥–µ–Ω–∏—è free preview –∏ eth_getLogs)  
**–î–µ—Ç–∞–ª–∏**:
- **–°–¥–µ–ª–∞–Ω–æ**:
  - –ø—Ä–∏ –æ—à–∏–±–∫–µ `eth_getLogs` –ª–æ–≥–∏—Ä—É–µ–º –¥–∏–∞–ø–∞–∑–æ–Ω –±–ª–æ–∫–æ–≤ –∏ —Ç–µ–∫—Å—Ç –æ—à–∏–±–∫–∏ (–¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è: 429/rate limit/timeout/too many results)
  - –≤ free preview –ª–æ–≥–∏—Ä—É–µ–º –ø–∞–¥–µ–Ω–∏–µ –∫–∞–∂–¥–æ–π –ø–æ–ø—ã—Ç–∫–∏ (20k‚Üí5k‚Üí1k) –∏ –¥–æ–±–∞–≤–ª—è–µ–º –Ω–µ–±–æ–ª—å—à–æ–π backoff, —á—Ç–æ–±—ã –Ω–µ —É—Å—É–≥—É–±–ª—è—Ç—å rate limit
- **–§–∞–π–ª—ã**:
  - `src/eth/approvals/rpcApprovalEventProvider.ts`
  - `src/bot/handlers/checkWallet.ts`
- **–ü—Ä–∏—á–∏–Ω–∞/–∫–æ–Ω—Ç–µ–∫—Å—Ç**: –±–æ—Ç –ø–æ–∫–∞–∑—ã–≤–∞–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é ‚ÄúRPC/–ª–∏–º–∏—Ç—ã‚Äù, –Ω–æ –ø–æ –ª–æ–≥–∞–º –±—ã–ª–æ –Ω–µ–ø–æ–Ω—è—Ç–Ω–æ, —á—Ç–æ –∏–º–µ–Ω–Ω–æ –≤–µ—Ä–Ω—É–ª –ø—Ä–æ–≤–∞–π–¥–µ—Ä (Infura).

**–î–∞—Ç–∞/–≤—Ä–µ–º—è**: 2025-12-19 12:35  
**–ö–æ—Ä–æ—Ç–∫–æ**: Free preview —Å—Ç–∞–ª ‚Äúrecent scan‚Äù —Å –∞–≤—Ç–æ-—É–º–µ–Ω—å—à–µ–Ω–∏–µ–º –¥–∏–∞–ø–∞–∑–æ–Ω–∞ + —Å–Ω–∏–∂–µ–Ω—ã –¥–µ—Ñ–æ–ª—Ç—ã ETH_APPROVALS_* –¥–ª—è Infura  
**–î–µ—Ç–∞–ª–∏**:
- **–°–¥–µ–ª–∞–Ω–æ**:
  - `buildApprovalsReport()` —Ç–µ–ø–µ—Ä—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç override –¥–∏–∞–ø–∞–∑–æ–Ω–∞ –±–ª–æ–∫–æ–≤ (`fromBlock/toBlock`)
  - free preview –≤ –±–æ—Ç–µ –ø—Ä–æ–±—É–µ—Ç –¥–∏–∞–ø–∞–∑–æ–Ω—ã 20k ‚Üí 5k ‚Üí 1k –±–ª–æ–∫–æ–≤, —á—Ç–æ–±—ã –Ω–µ —É–ø–∏—Ä–∞—Ç—å—Å—è –≤ –ª–∏–º–∏—Ç—ã `eth_getLogs`
  - –¥–µ—Ñ–æ–ª—Ç—ã `ETH_APPROVALS_CHUNK_SIZE` –∏ `ETH_APPROVALS_MAX_RANGE_BLOCKS` —Å–Ω–∏–∂–µ–Ω—ã –¥–æ –±–æ–ª–µ–µ ‚Äú–±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö‚Äù –ø–æ–¥ Infura
  - `env.example` –∏ `docs/03_DEBIAN12_SETUP.md` —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã —Å –Ω–æ–≤—ã–º–∏ –¥–µ—Ñ–æ–ª—Ç–∞–º–∏
- **–§–∞–π–ª—ã**:
  - `src/reports/engine.ts`
  - `src/bot/handlers/checkWallet.ts`
  - `src/core/config.ts`
  - `env.example`
  - `docs/03_DEBIAN12_SETUP.md`
- **–ü—Ä–∏—á–∏–Ω–∞/–∫–æ–Ω—Ç–µ–∫—Å—Ç**: free preview –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –∞–¥—Ä–µ—Å–∞—Ö —É–ø–∏—Ä–∞–ª—Å—è –≤ RPC –ª–∏–º–∏—Ç—ã –∏ –º–æ–≥ –ø—Ä–∏–≤–æ–¥–∏—Ç—å –∫ OOM/kill –ø—Ä–æ—Ü–µ—Å—Å–∞ –ø—Ä–∏ —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–º –¥–∏–∞–ø–∞–∑–æ–Ω–µ —Å–∫–∞–Ω–∞.
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: –≤ Telegram ‚Äú–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—à–µ–ª—ë–∫‚Äù –≤—ã–¥–∞—ë—Ç preview —Ö–æ—Ç—è –±—ã –ø–æ –ø–æ—Å–ª–µ–¥–Ω–∏–º N –±–ª–æ–∫–∞–º; –≤ –ª–æ–≥–∞—Ö –Ω–µ—Ç exit code 137.

**–î–∞—Ç–∞/–≤—Ä–µ–º—è**: 2025-12-19 12:20  
**–ö–æ—Ä–æ—Ç–∫–æ**: –£—Å—Ç—Ä–∞–Ω–µ–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã —Ç–µ—Å—Ç–∞: Postgres permissions (bind-mount) –∏ zero-address –≤ free preview  
**–î–µ—Ç–∞–ª–∏**:
- **–°–¥–µ–ª–∞–Ω–æ**:
  - –ø–µ—Ä–µ–≤–µ–¥—ë–Ω Postgres –Ω–∞ docker **named volume** (`postgres_data`) –≤–º–µ—Å—Ç–æ bind-mount `./data/postgres`, —á—Ç–æ–±—ã –∏—Å–∫–ª—é—á–∏—Ç—å ‚Äú—Å–ª—ë—Ç‚Äù –ø—Ä–∞–≤ –æ—Ç `chown`
  - –≤ –±–æ—Ç–µ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞—â–∏—Ç–∞ –æ—Ç –≤–≤–æ–¥–∞ `0x000‚Ä¶000` (zero address), —Ç.–∫. —ç—Ç–æ—Ç —Ç–µ—Å—Ç-–∫–µ–π—Å –ø—Ä–æ–≤–æ—Ü–∏—Ä—É–µ—Ç —Ç—è–∂—ë–ª—ã–π `eth_getLogs` –∏ –ª–∏–º–∏—Ç—ã –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞
  - `docs/03_DEBIAN12_SETUP.md` –æ–±–Ω–æ–≤–ª—ë–Ω –ø–æ–¥ named volume
- **–§–∞–π–ª—ã**:
  - `docker-compose.yml`
  - `src/core/validation.ts`
  - `src/bot/handlers/checkWallet.ts`
  - `src/bot/ui/texts.ts`
  - `docs/03_DEBIAN12_SETUP.md`
- **–ü—Ä–∏—á–∏–Ω–∞/–∫–æ–Ω—Ç–µ–∫—Å—Ç**:
  - bind-mount Postgres –ª–æ–º–∞–ª—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –≤–ª–∞–¥–µ–ª—å—Ü–∞ –∫–∞—Ç–∞–ª–æ–≥–∞ (–≤–∏–¥–µ–ª–∏ `pg_filenode.map: Permission denied`)
  - free preview –Ω–∞ –Ω—É–ª–µ–≤–æ–º –∞–¥—Ä–µ—Å–µ —É–ø–∏—Ä–∞–ª—Å—è –≤ RPC/–ª–∏–º–∏—Ç—ã.
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**:
  - `docker compose up -d db` –ø–æ–¥–Ω–∏–º–∞–µ—Ç—Å—è —Å—Ç–∞–±–∏–ª—å–Ω–æ
  - `/start` ‚Üí ‚Äú–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—à–µ–ª—ë–∫‚Äù ‚Üí –≤–≤–æ–¥ 0x000‚Ä¶000 –¥–∞—ë—Ç –¥—Ä—É–∂–µ–ª—é–±–Ω—É—é –æ—à–∏–±–∫—É

**–î–∞—Ç–∞/–≤—Ä–µ–º—è**: 2025-12-19 12:10  
**–ö–æ—Ä–æ—Ç–∫–æ**: –ü–æ–¥–Ω—è—Ç –ø–æ–ª–Ω—ã–π docker-compose —Å—Ç–µ–∫ –Ω–∞ Debian 12, –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –º–∏–≥—Ä–∞—Ü–∏–∏, –æ–ø—Ä–µ–¥–µ–ª—ë–Ω username –±–æ—Ç–∞  
**–î–µ—Ç–∞–ª–∏**:
- **–°–¥–µ–ª–∞–Ω–æ**:
  - —Å–æ–±—Ä–∞–Ω—ã –æ–±—Ä–∞–∑—ã –∏ –∑–∞–ø—É—â–µ–Ω—ã —Å–µ—Ä–≤–∏—Å—ã: `db`, `bot`, `payments-worker`, `reports-worker`, `monitoring-worker`
  - –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –º–∏–≥—Ä–∞—Ü–∏–∏ –≤ Postgres —á–µ—Ä–µ–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä: `node dist/db/migrate.js`
  - –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—Ä–æ–≤–∞–Ω –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω –Ω—é–∞–Ω—Å bind-mount Postgres: `data/postgres` –Ω–∞ —Ö–æ—Å—Ç–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å owned by UID:GID `999:999`
  - –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –±–æ—Ç–∞ —á–µ—Ä–µ–∑ Telegram API `getMe` (–±–µ–∑ —Ä–∞—Å–∫—Ä—ã—Ç–∏—è —Ç–æ–∫–µ–Ω–∞): username **@WalletSecurityCheckBot**
- **–§–∞–π–ª—ã**:
  - `docs/05_TEST_ROADMAP_RU.md` (–æ—Ç–º–µ—á–µ–Ω—ã infra –ø—É–Ω–∫—Ç—ã –∏ –¥–æ–±–∞–≤–ª–µ–Ω –ø—Ä–æ–≥–æ–Ω)
- **–ü—Ä–∏—á–∏–Ω–∞/–∫–æ–Ω—Ç–µ–∫—Å—Ç**: –∑–∞–≤–µ—Ä—à–∏—Ç—å ‚Äúinfra-smoke‚Äù –ø–µ—Ä–µ–¥ —Ä—É—á–Ω—ã–º–∏ —Ç–µ—Å—Ç–∞–º–∏ –≤ Telegram –∏ e2e –æ–ø–ª–∞—Ç–æ–π.
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**:
  - `docker compose ps` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã `Up`
  - `docker compose logs` –±–µ–∑ —Ñ–∞—Ç–∞–ª–æ–≤
  - –≤ Telegram –æ—Ç–∫—Ä—ã—Ç—å `@WalletSecurityCheckBot` –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å `/start`

**–î–∞—Ç–∞/–≤—Ä–µ–º—è**: 2025-12-19 12:05  
**–ö–æ—Ä–æ—Ç–∫–æ**: Dockerfile –∫–æ–ø–∏—Ä—É–µ—Ç migrations/templates –≤ dist (—Ñ–∏–∫—Å –º–∏–≥—Ä–∞—Ü–∏–π –∏ HTML/PDF –≤ –ø—Ä–æ–¥–µ)  
**–î–µ—Ç–∞–ª–∏**:
- **–°–¥–µ–ª–∞–Ω–æ**:
  - –¥–æ–±–∞–≤–ª–µ–Ω–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ runtime-–∞—Å—Å–µ—Ç–æ–≤ –≤ `dist/` –Ω–∞ build-—Å—Ç–µ–π–¥–∂–µ:
    - `src/db/migrations/*.sql` ‚Üí `dist/db/migrations/`
    - `src/reports/templates/*.ejs` ‚Üí `dist/reports/templates/`
- **–§–∞–π–ª—ã**: `Dockerfile`
- **–ü—Ä–∏—á–∏–Ω–∞/–∫–æ–Ω—Ç–µ–∫—Å—Ç**: `tsc` –Ω–µ –∫–æ–ø–∏—Ä—É–µ—Ç `.sql/.ejs`, –∏–∑-–∑–∞ —á–µ–≥–æ `node dist/db/migrate.js` –ø–∞–¥–∞–ª (`ENOENT dist/db/migrations`), –∞ HTML/PDF –æ—Ç—á—ë—Ç—ã –Ω–µ –Ω–∞—à–ª–∏ –±—ã —à–∞–±–ª–æ–Ω—ã.
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**:
  - `docker compose build`
  - `docker compose run --rm bot node dist/db/migrate.js` –ø—Ä–æ—Ö–æ–¥–∏—Ç

**–î–∞—Ç–∞/–≤—Ä–µ–º—è**: 2025-12-19 11:40  
**–ö–æ—Ä–æ—Ç–∫–æ**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω TS —Ç–∏–ø tronweb (fromPrivateKey –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç string|false) –¥–ª—è —É—Å–ø–µ—à–Ω–æ–≥–æ `tsc` –≤ Docker  
**–î–µ—Ç–∞–ª–∏**:
- **–°–¥–µ–ª–∞–Ω–æ**:
  - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ `TronWeb.utils.address.fromPrivateKey()` –∏ —è–≤–Ω—ã–π `throw` –ø—Ä–∏ `false`
- **–§–∞–π–ª—ã**: `src/payments/tron/hd.ts`
- **–ü—Ä–∏—á–∏–Ω–∞/–∫–æ–Ω—Ç–µ–∫—Å—Ç**: `docker compose build` –ø–∞–¥–∞–ª –Ω–∞ `tsc` –∏–∑-–∑–∞ –Ω–µ—Å–æ–≤–ø–∞–¥–µ–Ω–∏—è —Ç–∏–ø–æ–≤.
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: `docker compose build` –ø—Ä–æ—Ö–æ–¥–∏—Ç.

**–î–∞—Ç–∞/–≤—Ä–µ–º—è**: 2025-12-19 11:35  
**–ö–æ—Ä–æ—Ç–∫–æ**: –ü–æ—á–∏–Ω–µ–Ω–∞ —Å–±–æ—Ä–∫–∞ TypeScript (3 –æ—à–∏–±–∫–∏) –¥–ª—è —É—Å–ø–µ—à–Ω–æ–≥–æ Docker build –Ω–∞ Debian 12  
**–î–µ—Ç–∞–ª–∏**:
- **–°–¥–µ–ª–∞–Ω–æ**:
  - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ —á—Ç–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–µ –≤–≤–æ–¥–∞ –∞–¥—Ä–µ—Å–∞ (—Å—Ç—Ä–æ–≥–∏–µ —Ç–∏–ø—ã grammY)
  - –¥–æ–±–∞–≤–ª–µ–Ω guard –Ω–∞ —Å–ª—É—á–∞–π –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è —Å–æ–±—ã—Ç–∏—è `Approval` –≤ ABI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
  - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω –≤—ã–∑–æ–≤ tronweb –¥–ª—è derivation –∞–¥—Ä–µ—Å–∞ (`TronWeb.utils.address.fromPrivateKey`)
- **–§–∞–π–ª—ã**:
  - `src/bot/handlers/checkWallet.ts`
  - `src/eth/approvals/rpcApprovalEventProvider.ts`
  - `src/payments/tron/hd.ts`
- **–ü—Ä–∏—á–∏–Ω–∞/–∫–æ–Ω—Ç–µ–∫—Å—Ç**: `docker compose build` –ø–∞–¥–∞–ª –Ω–∞ `tsc` —Å TypeScript –æ—à–∏–±–∫–∞–º–∏, –±–ª–æ–∫–∏—Ä—É—è –¥–µ–ø–ª–æ–π.
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: `docker compose build` –ø—Ä–æ—Ö–æ–¥–∏—Ç, –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –ø–æ–¥–Ω–∏–º–∞—é—Ç—Å—è.

**–î–∞—Ç–∞/–≤—Ä–µ–º—è**: 2025-12-19 11:25  
**–ö–æ—Ä–æ—Ç–∫–æ**: –ù–∞—á–∞—Ç –¥–µ–ø–ª–æ–π –Ω–∞ —á–∏—Å—Ç—ã–π Debian 12 (Docker/UFW/user) + –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –Ω–∞ GitHub  
**–î–µ—Ç–∞–ª–∏**:
- **–°–¥–µ–ª–∞–Ω–æ**:
  - —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –±–∞–∑–æ–≤—ã–µ –ø–∞–∫–µ—Ç—ã (git/ufw/curl/gnupg) –∏ –≤–∫–ª—é—á—ë–Ω UFW (OpenSSH, 80/443)
  - —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Docker Engine + docker compose plugin
  - —Å–æ–∑–¥–∞–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å `walletguard` (–≤ –≥—Ä—É–ø–ø–∞—Ö `sudo` –∏ `docker`)
  - –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –Ω–∞ GitHub (deploy key —Å write access)
- **–§–∞–π–ª—ã**: `docs/06_GITHUB_PUBLISH_RU.md`
- **–ü—Ä–∏—á–∏–Ω–∞/–∫–æ–Ω—Ç–µ–∫—Å—Ç**: —Å–µ—Ä–≤–µ—Ä —á–∏—Å—Ç—ã–π, —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω ‚Äî —Å–Ω–∞—á–∞–ª–∞ –Ω—É–∂–Ω–æ –æ–±–µ—Å–ø–µ—á–∏—Ç—å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º—ã–π –¥–µ–ø–ª–æ–π –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ GitHub.
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**:
  - –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ `docker --version` –∏ `docker compose version`
  - –Ω–∞ GitHub: repo —Å–æ–∑–¥–∞–Ω, deploy key –¥–æ–±–∞–≤–ª–µ–Ω, `git push` –ø—Ä–æ—Ö–æ–¥–∏—Ç

**–î–∞—Ç–∞/–≤—Ä–µ–º—è**: 2025-12-19 00:10  
**–ö–æ—Ä–æ—Ç–∫–æ**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Å–±–æ—Ä–∫–∞ Dockerfile –±–µ–∑ package-lock.json (npm ci ‚Üí npm install)  
**–î–µ—Ç–∞–ª–∏**:
- **–°–¥–µ–ª–∞–Ω–æ**:
  - –≤ `Dockerfile` –∑–∞–º–µ–Ω—ë–Ω `npm ci` –Ω–∞ `npm install`, —Ç.–∫. –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –Ω–µ—Ç `package-lock.json`
  - –¥–æ–±–∞–≤–ª–µ–Ω—ã —Ñ–ª–∞–≥–∏ `--no-audit --no-fund` –¥–ª—è –±–æ–ª–µ–µ —á–∏—Å—Ç–æ–π/–±—ã—Å—Ç—Ä–æ–π —Å–±–æ—Ä–∫–∏
- **–§–∞–π–ª—ã**: `Dockerfile`
- **–ü—Ä–∏—á–∏–Ω–∞/–∫–æ–Ω—Ç–µ–∫—Å—Ç**: –±–µ–∑ lockfile `npm ci` –ø–∞–¥–∞–µ—Ç –∏ –±–ª–æ–∫–∏—Ä—É–µ—Ç –¥–µ–ø–ª–æ–π –Ω–∞ Debian 12.
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—å `docker compose build` –∏ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Å–±–æ—Ä–∫–∞ –ø—Ä–æ—Ö–æ–¥–∏—Ç.

**–î–∞—Ç–∞/–≤—Ä–µ–º—è**: 2025-12-19 00:05  
**–ö–æ—Ä–æ—Ç–∫–æ**: –ü—Ä–∏–≤–µ–¥—ë–Ω –≤ –ø–æ—Ä—è–¥–æ–∫ Debian 12 deploy guide (—Ñ–æ—Ä–º–∞—Ç + —Ä–∞–±–æ—á–∞—è –∫–æ–º–∞–Ω–¥–∞ –º–∏–≥—Ä–∞—Ü–∏–π)  
**–î–µ—Ç–∞–ª–∏**:
- **–°–¥–µ–ª–∞–Ω–æ**:
  - –ø–µ—Ä–µ–ø–∏—Å–∞–Ω `docs/03_DEBIAN12_SETUP.md` –≤ –≤–∞–ª–∏–¥–Ω—ã–π Markdown –±–µ–∑ ‚Äú—Å—ä–µ—Ö–∞–≤—à–∏—Ö‚Äù –±–ª–æ–∫–æ–≤ –∫–æ–¥–∞
  - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–º–∞–Ω–¥–∞ –º–∏–≥—Ä–∞—Ü–∏–π –ø–æ–¥ —Ç–µ–∫—É—â–∏–π `Dockerfile`: `docker compose run --rm bot node dist/db/migrate.js`
- **–§–∞–π–ª—ã**: `docs/03_DEBIAN12_SETUP.md`
- **–ü—Ä–∏—á–∏–Ω–∞/–∫–æ–Ω—Ç–µ–∫—Å—Ç**: –ø—Ä–µ–∂–Ω—è—è –≤–µ—Ä—Å–∏—è –≥–∞–π–¥–∞ –±—ã–ª–∞ —á–∞—Å—Ç–∏—á–Ω–æ –Ω–µ—á–∏—Ç–∞–µ–º–∞ –∏ –º–æ–≥–ª–∞ –≤–≤–æ–¥–∏—Ç—å –≤ –∑–∞–±–ª—É–∂–¥–µ–Ω–∏–µ –ø–æ –º–∏–≥—Ä–∞—Ü–∏—è–º (–≤ runtime –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ –Ω–µ—Ç `tsx`, –∑–∞—Ç–æ –µ—Å—Ç—å `dist`).
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: –Ω–∞ Debian 12 –ø—Ä–æ–π—Ç–∏ —à–∞–≥–∏ 9‚Äì11 –∏ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –º–∏–≥—Ä–∞—Ü–∏–∏ —Ä–µ–∞–ª—å–Ω–æ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –ø–µ—Ä–µ–¥ —Å—Ç–∞—Ä—Ç–æ–º —Å–µ—Ä–≤–∏—Å–æ–≤.

**–î–∞—Ç–∞/–≤—Ä–µ–º—è**: 2025-12-19 00:00  
**–ö–æ—Ä–æ—Ç–∫–æ**: –î–æ–±–∞–≤–ª–µ–Ω Roadmap —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –æ—Ç–º–µ—á–µ–Ω –Ω–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å —Ñ–∏–∫—Å–∞—Ü–∏–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤  
**–î–µ—Ç–∞–ª–∏**:
- **–°–¥–µ–ª–∞–Ω–æ**:
  - –¥–æ–±–∞–≤–ª–µ–Ω –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —á–µ–∫–ª–∏—Å—Ç `docs/05_TEST_ROADMAP_RU.md` (–ø—É–Ω–∫—Ç—ã infra‚Üíbot‚Üípayments‚Üíreports‚Üímonitoring‚Üísecurity‚Üíperf)
  - `docs/02_TEST_PLAN_RU.md` –æ—Å—Ç–∞–≤–ª–µ–Ω –∫–∞–∫ –Ω–∞–±–æ—Ä –∏–¥–µ–π/–∫–µ–π—Å–æ–≤, –∞ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ –≤ roadmap
- **–§–∞–π–ª—ã**: `docs/05_TEST_ROADMAP_RU.md`, `docs/02_TEST_PLAN_RU.md`
- **–ü—Ä–∏—á–∏–Ω–∞/–∫–æ–Ω—Ç–µ–∫—Å—Ç**: —Ç–µ—Å—Ç-–ø–ª–∞–Ω –±—ã–ª –Ω–∞–ø–∏—Å–∞–Ω –¥–æ —Ñ–∏–Ω–∞–ª—å–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏; –Ω—É–∂–µ–Ω ‚Äú–∂–∏–≤–æ–π‚Äù –¥–æ–∫—É–º–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –º—ã –∑–∞–ø–æ–ª–Ω—è–µ–º –ø–æ —Ñ–∞–∫—Ç—É –ø—Ä–æ–≥–æ–Ω–æ–≤.
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: –æ—Ç–∫—Ä—ã—Ç—å `docs/05_TEST_ROADMAP_RU.md` –∏ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Ñ–æ—Ä–º–∞—Ç –æ—Ç–º–µ—Ç–æ–∫/–∂—É—Ä–Ω–∞–ª–∞ –ø—Ä–æ–≥–æ–Ω–æ–≤ —É—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç.

**–î–∞—Ç–∞/–≤—Ä–µ–º—è**: 2025-12-19  
**–ö–æ—Ä–æ—Ç–∫–æ**: –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —ç—Ç–∞–ø—ã 7‚Äì9 (–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ MAX, admin alerts, docker+debian deploy)  
**–î–µ—Ç–∞–ª–∏**:
- **–°–¥–µ–ª–∞–Ω–æ**:
  - MAX: –ø–æ—Å–ª–µ –¥–æ—Å—Ç–∞–≤–∫–∏ –æ—Ç—á—ë—Ç–∞ —Å–æ–∑–¥–∞—ë–º –ø–æ–¥–ø–∏—Å–∫—É –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –Ω–∞ 30 –¥–Ω–µ–π (`monitoring_subscriptions`)
  - monitoring-worker: daily —Ä–µ—Å–∫–∞–Ω approvals, snapshot diff, –∞–ª–µ—Ä—Ç—ã –ø—Ä–∏ –Ω–æ–≤—ã—Ö spenders/unlimited approvals, –∞–≤—Ç–æ-–¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è –ø–æ `expires_at`
  - admin alerts: –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö –±–æ—Ç–∞/–≤–æ—Ä–∫–µ—Ä–æ–≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –Ω–∞ `ADMIN_TELEGRAM_ID`
  - approvals engine: warnings –ø—Ä–∏ –¥–µ–≥—Ä–∞–¥–∞—Ü–∏–∏ (capped range / tokens / pairs), –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ HTML
  - Docker: runtime image –Ω–∞ Playwright base + —É—Å—Ç–∞–Ω–æ–≤–∫–∞ Chromium –¥–ª—è PDF
  - Docs: README + Debian 12 guide —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –∫–æ–º–∞–Ω–¥–∞–º–∏
- **–§–∞–π–ª—ã**:
  - `src/db/repos/monitoringRepo.ts`, `src/workers/monitoringWorker.ts`, `src/monitoring/diff.ts`
  - `src/core/adminAlerts.ts`, –ø—Ä–∞–≤–∫–∏ –≤ `src/workers/*` –∏ `src/bot/bot.ts`
  - `src/reports/engine.ts`, `src/reports/types.ts`, `src/reports/templates/report.ejs`
  - `Dockerfile`, `README.md`, `docs/03_DEBIAN12_SETUP.md`, `docs/00_ROADMAP_RU.md`

**–î–∞—Ç–∞/–≤—Ä–µ–º—è**: 2025-12-19  
**–ö–æ—Ä–æ—Ç–∫–æ**: –î–æ–±–∞–≤–ª–µ–Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á—ë—Ç–æ–≤ (CSV/HTML/PDF) + reports-worker –∏ –¥–æ—Å—Ç–∞–≤–∫–∞ –≤ Telegram (–≠—Ç–∞–ø 5)  
**–î–µ—Ç–∞–ª–∏**:
- **–°–¥–µ–ª–∞–Ω–æ**:
  - CSV –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ø–æ —Å–ø–µ–∫–∞–º + —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ `REPORTS_STORAGE_PATH`
  - HTML –æ—Ç—á—ë—Ç —á–µ—Ä–µ–∑ EJS —à–∞–±–ª–æ–Ω + —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
  - PDF —Ä–µ–Ω–¥–µ—Ä HTML‚ÜíPDF —á–µ—Ä–µ–∑ Playwright (–¥–ª—è MAX)
  - reports-worker: `PAID ‚Üí REPORTING ‚Üí –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å ‚Üí reports(row) ‚Üí –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ Telegram ‚Üí DELIVERED`
  - –≤ Telegram summary –¥–æ–±–∞–≤–ª–µ–Ω—ã inline-–∫–Ω–æ–ø–∫–∏: ‚Äú–ü–æ–∫–∞–∑–∞—Ç—å HIGH / Revoke links / –°–∫–∞—á–∞—Ç—å CSV‚Äù
  - –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ callback‚Äô–æ–≤ –≤ –±–æ—Ç–µ —á–∏—Ç–∞—é—Ç `reports` –∏–∑ –ë–î –∏ –≤—ã–¥–∞—é—Ç HIGH/links/CSV
- **–§–∞–π–ª—ã**:
  - `src/reports/csv.ts`, `src/reports/html.ts`, `src/reports/pdf.ts`, `src/reports/templates/report.ejs`, `src/reports/plan.ts`
  - `src/workers/reportsWorker.ts`, `src/core/fs.ts`
  - `src/bot/ui/keyboards.ts`, `src/bot/bot.ts`, `src/bot/telegramApi.ts`
  - `src/db/repos/ordersRepo.ts`, `package.json`, `docs/00_ROADMAP_RU.md`
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**:
  - `npm run dev:reports-worker` (–ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã –∑–∞–∫–∞–∑ –¥–æ–ª–∂–µ–Ω –ø–µ—Ä–µ–π—Ç–∏ –≤ DELIVERED)
  - —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ PDF –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –Ω–∞ —Å—Ä–µ–¥–µ —Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º Chromium –¥–ª—è Playwright

**–î–∞—Ç–∞/–≤—Ä–µ–º—è**: 2025-12-19  
**–ö–æ—Ä–æ—Ç–∫–æ**: –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω Ethereum approvals engine + —Ä–∏—Å–∫-—Å–∫–æ—Ä–∏–Ω–≥ (–≠—Ç–∞–ø 4) –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ free preview  
**–î–µ—Ç–∞–ª–∏**:
- **–°–¥–µ–ª–∞–Ω–æ**:
  - –¥–æ–±–∞–≤–∞–Ω Approval events –ø—Ä–æ–≤–∞–π–¥–µ—Ä —á–µ—Ä–µ–∑ `eth_getLogs` (–ø–æ owner topic, —á–∞–Ω–∫–∞–º–∏)
  - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω snapshot `allowance(owner, spender)` –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è allowance>0
  - –¥–æ–±–∞–≤–ª–µ–Ω –∫–µ—à –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤ –≤ Postgres (`token_metadata`) + on-chain fetch (best-effort)
  - unlimited detection (MaxUint256 + –ø–æ—Ä–æ–≥ ‚Äú10 –º–ª—Ä–¥ —Ç–æ–∫–µ–Ω–æ–≤‚Äù)
  - spender_type (EOA/CONTRACT) —á–µ—Ä–µ–∑ `eth_getCode`
  - risk scoring + actions + reason codes + revoke link builder
  - –µ–¥–∏–Ω—ã–π API `buildApprovalsReport()` + `buildTelegramSummary()`
  - free preview –≤ –±–æ—Ç–µ —Ç–µ–ø–µ—Ä—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–µ counts –∏ top-3 —Ç–æ–∫–µ–Ω–∞ (—Å –ª–∏–º–∏—Ç–∞–º–∏ –¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏)
- **–§–∞–π–ª—ã**:
  - `src/eth/provider.ts`, `src/eth/erc20.ts`
  - `src/eth/approvals/types.ts`, `src/eth/approvals/rpcApprovalEventProvider.ts`
  - `src/reports/engine.ts`, `src/reports/scoring.ts`, `src/reports/unlimited.ts`, `src/reports/format.ts`,
    `src/reports/reputation.ts`, `src/reports/majorTokens.ts`, `src/reports/revokeLinks.ts`, `src/reports/types.ts`
  - `src/db/migrations/002_token_metadata.sql`, `src/db/repos/tokenMetadataRepo.ts`, `src/db/migrate.ts`
  - `src/bot/handlers/checkWallet.ts`
  - `env.example`, `docs/00_ROADMAP_RU.md`
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**:
  - `npm run db:migrate` (–ø—Ä–∏–º–µ–Ω–∏—Ç `002_token_metadata.sql`)
  - –≤ `.env` –∑–∞–¥–∞—Ç—å `ETH_RPC_URL`
  - –≤ –±–æ—Ç–µ: ‚Äú–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—à–µ–ª—ë–∫‚Äù ‚Üí –∞–¥—Ä–µ—Å ‚Üí —É–≤–∏–¥–µ—Ç—å real free preview

**–î–∞—Ç–∞/–≤—Ä–µ–º—è**: 2025-12-19  
**–ö–æ—Ä–æ—Ç–∫–æ**: –î–æ–±–∞–≤–ª–µ–Ω –∞–≤—Ç–æ-—Ç–∞–π–º–µ—Ä –∏—Å—Ç–µ—á–µ–Ω–∏—è –∑–∞–∫–∞–∑–æ–≤ (EXPIRED —á–µ—Ä–µ–∑ 60 –º–∏–Ω—É—Ç)  
**–î–µ—Ç–∞–ª–∏**:
- **–°–¥–µ–ª–∞–Ω–æ**:
  - –¥–æ–±–∞–≤–ª–µ–Ω–∞ DB-—Ñ—É–Ω–∫—Ü–∏—è `expireOldUnpaidOrders()` (–ø–µ—Ä–µ–≤–æ–¥–∏—Ç —Å—Ç–∞—Ä—ã–µ `CREATED/PENDING_PAYMENT` –≤ `EXPIRED`)
  - payments-worker —Ç–µ–ø–µ—Ä—å –Ω–∞ –∫–∞–∂–¥–æ–º —Ç–∏–∫–µ —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–æ—Å—Ç–∞–≤–ª—è–µ—Ç `EXPIRED` –ø–æ –ø—Ä–∞–≤–∏–ª—É 60 –º–∏–Ω—É—Ç
  - –ø—Ä–∞–≤–∏–ª–æ –∏–∑ –¢–ó —Å–æ–±–ª—é–¥–µ–Ω–æ: **–æ–ø–ª–∞—Ç–∞ –ø–æ—Å–ª–µ `EXPIRED` –≤—Å—ë —Ä–∞–≤–Ω–æ –∑–∞—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è**, —Ç.–∫. –≤–æ—Ä–∫–µ—Ä –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä—è—Ç—å `EXPIRED`
- **–§–∞–π–ª—ã**: `src/db/repos/ordersRepo.ts`, `src/workers/paymentsWorker.ts`, `docs/00_ROADMAP_RU.md`
- **–ü—Ä–∏—á–∏–Ω–∞/–∫–æ–Ω—Ç–µ–∫—Å—Ç**: –≤—ã–ø–æ–ª–Ω—è—Ç—å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ ‚Äú–∑–∞–∫–∞–∑—ã –∏—Å—Ç–µ–∫–∞—é—Ç —á–µ—Ä–µ–∑ 60 –º–∏–Ω—É—Ç‚Äù –±–µ–∑ —Ä—É—á–Ω–æ–≥–æ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–∞.

**–î–∞—Ç–∞/–≤—Ä–µ–º—è**: 2025-12-19  
**–ö–æ—Ä–æ—Ç–∫–æ**: –î–æ–±–∞–≤–ª–µ–Ω –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ–ø–ª–∞—Ç USDT TRC20 (TronGrid) –∏ –ø–µ—Ä–µ–≤–æ–¥ –∑–∞–∫–∞–∑–æ–≤ –≤ PAID  
**–î–µ—Ç–∞–ª–∏**:
- **–°–¥–µ–ª–∞–Ω–æ**:
  - –¥–æ–±–∞–≤–ª–µ–Ω TronGrid-–∫–ª–∏–µ–Ω—Ç (–∑–∞–ø—Ä–æ—Å trc20 —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –ø–æ –∞–∫–∫–∞—É–Ω—Ç—É)
  - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø–æ–∏—Å–∫ –≤—Ö–æ–¥—è—â–µ–π –æ–ø–ª–∞—Ç—ã USDT (>= –æ–∂–∏–¥–∞–µ–º–æ–π —Å—É–º–º—ã)
  - payments-worker —Ç–µ–ø–µ—Ä—å –∫–∞–∂–¥—ã–µ 15 —Å–µ–∫—É–Ω–¥ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç `PENDING_PAYMENT`/`EXPIRED` –∑–∞–∫–∞–∑—ã –∏ –ø–æ–º–µ—á–∞–µ—Ç –∏—Ö –∫–∞–∫ `PAID`
  - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å: `tx_hash` –Ω–µ –º–æ–∂–µ—Ç –ø—Ä–∏–≤—è–∑–∞—Ç—å—Å—è –∫ –¥–≤—É–º –∑–∞–∫–∞–∑–∞–º, –∏ –ø–æ–≤—Ç–æ—Ä–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–∞
  - –∫–Ω–æ–ø–∫–∞ ‚ÄúüîÑ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–ø–ª–∞—Ç—É‚Äù –≤ –±–æ—Ç–µ —Ç–µ–ø–µ—Ä—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞ –∏–∑ –ë–î
- **–§–∞–π–ª—ã**:
  - `src/payments/tron/trongrid.ts`, `src/payments/tron/monitor.ts`, `src/payments/tron/usdt_trc20.ts`
  - `src/workers/paymentsWorker.ts`
  - `src/db/repos/ordersRepo.ts`
  - `src/bot/bot.ts`
- **–ü—Ä–∏—á–∏–Ω–∞/–∫–æ–Ω—Ç–µ–∫—Å—Ç**: –∑–∞–∫—Ä—ã—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é —á–∞—Å—Ç—å –æ–ø–ª–∞—Ç—ã –ø–æ —Å—Ö–µ–º–µ ‚Äú—É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∞–¥—Ä–µ—Å –Ω–∞ –∑–∞–∫–∞–∑‚Äù.
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**:
  - –≤ `.env` –∑–∞–¥–∞—Ç—å `TRONGRID_API_KEY`
  - –∑–∞–ø—É—Å—Ç–∏—Ç—å `npm run dev:payments-worker`
  - —Å–æ–∑–¥–∞—Ç—å –∑–∞–∫–∞–∑ –≤ –±–æ—Ç–µ –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å USDT TRC20 –Ω–∞ –≤—ã–¥–∞–Ω–Ω—ã–π –∞–¥—Ä–µ—Å ‚Üí –¥–æ–∂–¥–∞—Ç—å—Å—è —Å—Ç–∞—Ç—É—Å–∞ `PAID`

**–î–∞—Ç–∞/–≤—Ä–µ–º—è**: 2025-12-19  
**–ö–æ—Ä–æ—Ç–∫–æ**: –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω UX –≠—Ç–∞–ø–∞ 2: –≤–≤–æ–¥ –∞–¥—Ä–µ—Å–∞, free preview, –≤—ã–±–æ—Ä —Ç–∞—Ä–∏—Ñ–∞, —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞ –∏ —ç–∫—Ä–∞–Ω –æ–ø–ª–∞—Ç—ã  
**–î–µ—Ç–∞–ª–∏**:
- **–°–¥–µ–ª–∞–Ω–æ**:
  - –¥–æ–±–∞–≤–ª–µ–Ω—ã inline-–∫–Ω–æ–ø–∫–∏ —Ç–∞—Ä–∏—Ñ–æ–≤ –∏ –æ–ø–ª–∞—Ç—ã
  - –¥–æ–±–∞–≤–ª–µ–Ω–æ in-memory —Å–æ—Å—Ç–æ—è–Ω–∏–µ —á–∞—Ç–∞: ‚Äú–∂–¥—É –∞–¥—Ä–µ—Å‚Äù ‚Üí ‚Äú–∞–¥—Ä–µ—Å –ø—Ä–∏–Ω—è—Ç‚Äù
  - –ø—Ä–∏ –≤—ã–±–æ—Ä–µ —Ç–∞—Ä–∏—Ñ–∞ —Å–æ–∑–¥–∞—ë–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è/–∑–∞–∫–∞–∑ –≤ Postgres
  - –¥–ª—è –∑–∞–∫–∞–∑–∞ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º TRON pay-address –∏–∑ `TRON_MNEMONIC` —Å –∞—Ç–æ–º–∞—Ä–Ω—ã–º –≤—ã–¥–µ–ª–µ–Ω–∏–µ–º `hd_index`
  - –¥–æ–±–∞–≤–ª–µ–Ω `tron_hd_state` –≤ —Å—Ö–µ–º—É –ë–î (–∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ)
- **–§–∞–π–ª—ã**:
  - `src/bot/bot.ts`, `src/bot/state.ts`
  - `src/bot/handlers/checkWallet.ts`
  - `src/bot/ui/keyboards.ts`
  - `src/payments/tron/hd.ts`
  - `src/db/migrations/001_init.sql`
- **–ü—Ä–∏—á–∏–Ω–∞/–∫–æ–Ω—Ç–µ–∫—Å—Ç**: –∑–∞–∫—Ä—ã—Ç—å ‚Äú—Å–∫–≤–æ–∑–Ω–æ–π UX‚Äù –±–æ—Ç–∞ –¥–æ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –æ–ø–ª–∞—Ç –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç—á—ë—Ç–æ–≤.
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**:
  - –≤ `.env` –∑–∞–¥–∞—Ç—å `BOT_TOKEN`, `DATABASE_URL`, `TRON_MNEMONIC`
  - `docker compose up -d db` + `npm run db:migrate`
  - `npm run dev:bot` ‚Üí –ø—Ä–æ–π—Ç–∏ —Ñ–ª–æ—É: /start ‚Üí –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—à–µ–ª—å–∫–∞ ‚Üí –≤—ã–±–æ—Ä —Ç–∞—Ä–∏—Ñ–∞ ‚Üí –ø–æ–ª—É—á–∏—Ç—å —Ä–µ–∫–≤–∏–∑–∏—Ç—ã

**–î–∞—Ç–∞/–≤—Ä–µ–º—è**: 2025-12-19  
**–ö–æ—Ä–æ—Ç–∫–æ**: –î–æ–±–∞–≤–ª–µ–Ω–∞ –ë–î (Postgres) ‚Äî –º–∏–≥—Ä–∞—Ü–∏—è, pool, —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏, –º–∏–≥—Ä–∞—Ç–æ—Ä  
**–î–µ—Ç–∞–ª–∏**:
- **–°–¥–µ–ª–∞–Ω–æ**:
  - –¥–æ–±–∞–≤–ª–µ–Ω `pg` pool –∏ –±–∞–∑–æ–≤—ã–π —ç–∫—Å–ø–æ—Ä—Ç `src/db/index.ts`
  - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è —Å—Ö–µ–º—ã `001_init.sql` (users/orders/reports/monitoring_subscriptions)
  - –¥–æ–±–∞–≤–ª–µ–Ω—ã –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –¥–ª—è users/orders/reports
  - –¥–æ–±–∞–≤–ª–µ–Ω –ø—Ä–æ—Å—Ç–æ–π –º–∏–≥—Ä–∞—Ç–æ—Ä –∏ npm script `db:migrate`
  - README –¥–æ–ø–æ–ª–Ω–µ–Ω –∫–æ–º–∞–Ω–¥–∞–º–∏ ‚Äú–ø–æ–¥–Ω—è—Ç—å Postgres‚Äù –∏ ‚Äú–ø—Ä–æ–≥–Ω–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏‚Äù
- **–§–∞–π–ª—ã**:
  - `src/db/migrations/001_init.sql`
  - `src/db/pool.ts`, `src/db/migrate.ts`, `src/db/index.ts`, `src/db/types.ts`
  - `src/db/repos/usersRepo.ts`, `src/db/repos/ordersRepo.ts`, `src/db/repos/reportsRepo.ts`
  - `package.json`, `README.md`
- **–ü—Ä–∏—á–∏–Ω–∞/–∫–æ–Ω—Ç–µ–∫—Å—Ç**: –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –æ—Å–Ω–æ–≤—É –¥–ª—è –∑–∞–∫–∞–∑–æ–≤/–æ–ø–ª–∞—Ç/–æ—Ç—á—ë—Ç–æ–≤ –∏ –¥–∞–ª—å–Ω–µ–π—à–µ–π –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏.
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**:
  - –ø–æ–¥–Ω—è—Ç—å –ë–î: `docker compose up -d db`
  - –ø—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏: `npm run db:migrate`

**–î–∞—Ç–∞/–≤—Ä–µ–º—è**: 2025-12-19  
**–ö–æ—Ä–æ—Ç–∫–æ**: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω –∫–∞—Ä–∫–∞—Å –ø—Ä–æ–µ–∫—Ç–∞ (TS/–±–æ—Ç/–≤–æ—Ä–∫–µ—Ä—ã/docker/free-script)  
**–î–µ—Ç–∞–ª–∏**:
- **–°–¥–µ–ª–∞–Ω–æ**:
  - –¥–æ–±–∞–≤–ª–µ–Ω—ã –∫–æ—Ä–Ω–µ–≤—ã–µ –∫–æ–Ω—Ñ–∏–≥–∏ (`package.json`, `tsconfig.json`, `eslint.config.js`, `.prettierrc.json`, `.gitignore`)
  - –¥–æ–±–∞–≤–ª–µ–Ω `docker-compose.yml` + `Dockerfile` (—Å–±–æ—Ä–∫–∞ `dist` –≤–Ω—É—Ç—Ä–∏ Docker)
  - —Å–æ–∑–¥–∞–Ω –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π Telegram-–±–æ—Ç (grammY) –∏ –∑–∞–≥–ª—É—à–∫–∏ –≤–æ—Ä–∫–µ—Ä–æ–≤
  - –¥–æ–±–∞–≤–ª–µ–Ω –±–∞–∑–æ–≤—ã–π free script `scripts/free-approvals-viewer/`
  - –¥–æ–±–∞–≤–ª–µ–Ω —à–∞–±–ª–æ–Ω –æ–∫—Ä—É–∂–µ–Ω–∏—è `env.example` (–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤ `.env`)
- **–§–∞–π–ª—ã**:
  - `package.json`, `tsconfig.json`, `eslint.config.js`, `.prettierrc.json`, `.gitignore`
  - `docker-compose.yml`, `Dockerfile`, `.dockerignore`
  - `src/bot/**`, `src/core/**`, `src/workers/**`
  - `scripts/free-approvals-viewer/**`
  - `README.md`, `env.example`
- **–ü—Ä–∏—á–∏–Ω–∞/–∫–æ–Ω—Ç–µ–∫—Å—Ç**: –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å ‚Äú–∂–∏–≤–æ–π‚Äù —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è, —á—Ç–æ–±—ã –¥–∞–ª—å—à–µ –∏—Ç–µ—Ä–∞—Ç–∏–≤–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –ë–î/–æ–ø–ª–∞—Ç—ã/–æ—Ç—á—ë—Ç—ã.
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**:
  - `npm install`
  - —Å–æ–∑–¥–∞—Ç—å `.env` –∏–∑ `env.example`
  - `npm run dev:bot`

**–î–∞—Ç–∞/–≤—Ä–µ–º—è**: 2025-12-19  
**–ö–æ—Ä–æ—Ç–∫–æ**: –î–æ–±–∞–≤–ª–µ–Ω—ã roadmap –∏ –ø–ª–∞–Ω —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (RU)  
**–î–µ—Ç–∞–ª–∏**:
- **–°–¥–µ–ª–∞–Ω–æ**: —Å–æ–∑–¥–∞–Ω—ã –¥–æ–∫—É–º–µ–Ω—Ç—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–æ–π –∏ —Ñ–∏–Ω–∞–ª—å–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–∏—Å—Ç–µ–º—ã.
- **–§–∞–π–ª—ã**: `docs/00_ROADMAP_RU.md`, `docs/02_TEST_PLAN_RU.md`
- **–ü—Ä–∏—á–∏–Ω–∞/–∫–æ–Ω—Ç–µ–∫—Å—Ç**: –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –¥–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ –∫—Ä–∏—Ç–µ—Ä–∏–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–æ –Ω–∞—á–∞–ª–∞ –∫–æ–¥–∏–Ω–≥–∞.
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: –æ—Ç–∫—Ä—ã—Ç—å –æ–±–∞ —Ñ–∞–π–ª–∞ –∏ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ø—É–Ω–∫—Ç—ã/—á–µ–∫–ª–∏—Å—Ç—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –æ–∂–∏–¥–∞–Ω–∏—è–º.

# Changelog / –ñ—É—Ä–Ω–∞–ª –∏–∑–º–µ–Ω–µ–Ω–∏–π (RU) ‚Äî Wallet Guard

–≠—Ç–æ—Ç —Ñ–∞–π–ª ‚Äî ‚Äú—á–µ–ª–æ–≤–µ—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–æ–≥ –∫–æ–º–º–∏—Ç–æ–≤‚Äù: —Å—é–¥–∞ –º—ã –∫—Ä–∞—Ç–∫–æ –∑–∞–ø–∏—Å—ã–≤–∞–µ–º **—á—Ç–æ –ø–æ–º–µ–Ω—è–ª–∏**, **–≤ –∫–∞–∫–∏—Ö —Ñ–∞–π–ª–∞—Ö**, **–ø–æ—á–µ–º—É**, –∏ (–µ—Å–ª–∏ –≤–∞–∂–Ω–æ) **–∫–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å**.

–ü—Ä–∞–≤–∏–ª–∞ –≤–µ–¥–µ–Ω–∏—è:
- –ó–∞–ø–∏—Å—å –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∑–∞–º–µ—Ç–Ω–æ–≥–æ –Ω–∞–±–æ—Ä–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π (–æ–±—ã—á–Ω–æ 1‚Äì3 –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –ø—É–Ω–∫—Ç–∞ roadmap).
- –§–æ—Ä–º–∞—Ç –∑–∞–ø–∏—Å–∏: –¥–∞—Ç–∞/–≤—Ä–µ–º—è, –∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ, —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤, –ø—Ä–∏–º–µ—á–∞–Ω–∏—è.

---

## 2025-12-19

### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏: roadmap + test plan
- **–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ**: –¥–æ–±–∞–≤–ª–µ–Ω—ã 2 –¥–æ–∫—É–º–µ–Ω—Ç–∞ –¥–ª—è –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.
- **–§–∞–π–ª—ã**:
  - `docs/00_ROADMAP_RU.md`
  - `docs/02_TEST_PLAN_RU.md`
- **–ó–∞—á–µ–º**: –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω—ã–π –ø–ª–∞–Ω —Ä–∞–±–æ—Ç –∏ —Ñ–∏–Ω–∞–ª—å–Ω—É—é —Å—Ç—Ä–∞—Ç–µ–≥–∏—é —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–æ –Ω–∞—á–∞–ª–∞ –Ω–∞–ø–∏—Å–∞–Ω–∏—è –∫–æ–¥–∞.

# –ñ—É—Ä–Ω–∞–ª –∏–∑–º–µ–Ω–µ–Ω–∏–π (RU) ‚Äî Wallet Guard

–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å **—Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è** –≤ —Ö–æ–¥–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, —á—Ç–æ–±—ã –ø–æ—Ç–æ–º –±—ã–ª–æ –ª–µ–≥–∫–æ –ø–æ–Ω—è—Ç—å:
- **—á—Ç–æ** –ø–æ–º–µ–Ω—è–ª–∏,
- **–∑–∞—á–µ–º**,
- **–≥–¥–µ** (—Ñ–∞–π–ª—ã/–º–æ–¥—É–ª–∏),
- **–∫–æ–≥–¥–∞** (–¥–∞—Ç–∞),
- –∏ –∫–∞–∫–∏–µ —Ä–µ—à–µ–Ω–∏—è/–∫–æ–º–ø—Ä–æ–º–∏—Å—Å—ã –ø—Ä–∏–Ω—è–ª–∏.

–≠—Ç–æ –Ω–µ –∑–∞–º–µ–Ω–∞ Git-–∫–æ–º–º–∏—Ç–∞–º, –∞ —É–¥–æ–±–Ω—ã–π ‚Äú—á–µ–ª–æ–≤–µ—á–µ—Å–∫–∏–π‚Äù –ª–æ–≥ (–∫–∞–∫ Release Notes/DevLog).

---

## –§–æ—Ä–º–∞—Ç –∑–∞–ø–∏—Å–∏

–ö–∞–∂–¥–∞—è –∑–∞–ø–∏—Å—å:
- **–î–∞—Ç–∞**: YYYY-MM-DD
- **–°–∫–æ—É–ø**: (–Ω–∞–ø—Ä–∏–º–µ—Ä) infra / bot / payments / reports / db / docs
- **–°—É—Ç—å**: 3‚Äì10 –±—É–ª–ª–µ—Ç–æ–≤ ‚Äú—á—Ç–æ –∏–∑–º–µ–Ω–∏–ª–∏‚Äù
- **–§–∞–π–ª—ã**: —Å–ø–∏—Å–æ–∫ –∫–ª—é—á–µ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤/–ø–∞–ø–æ–∫
- **–ó–∞–º–µ—Ç–∫–∏**: —Ä–µ—à–µ–Ω–∏—è, –¥–æ–ø—É—â–µ–Ω–∏—è, –¥–æ–ª–≥ (optional)

–®–∞–±–ª–æ–Ω:

```text
## YYYY-MM-DD ‚Äî <–∫—Ä–∞—Ç–∫–∏–π –∑–∞–≥–æ–ª–æ–≤–æ–∫>

- **–°–∫–æ—É–ø**: ...
- **–°–¥–µ–ª–∞–Ω–æ**:
  - ...
  - ...
- **–§–∞–π–ª—ã**:
  - `...`
  - `...`
- **–ó–∞–º–µ—Ç–∫–∏**:
  - ...
```

---

## 2025-12-19 ‚Äî –î–æ–±–∞–≤–ª–µ–Ω—ã –¥–æ–∫—É–º–µ–Ω—Ç—ã –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

- **–°–∫–æ—É–ø**: docs
- **–°–¥–µ–ª–∞–Ω–æ**:
  - –î–æ–±–∞–≤–ª–µ–Ω –¥–µ—Ç–∞–ª—å–Ω—ã–π roadmap —Å —á–µ–∫–ª–∏—Å—Ç–æ–º –∏ –ø—Ä–∞–≤–∏–ª–∞–º–∏ –æ—Ç–º–µ—Ç–∫–∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞.
  - –î–æ–±–∞–≤–ª–µ–Ω –ø–ª–∞–Ω —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (unit/integration/e2e + –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ + acceptance checklist).
- **–§–∞–π–ª—ã**:
  - `docs/00_ROADMAP_RU.md`
  - `docs/02_TEST_PLAN_RU.md`
- **–ó–∞–º–µ—Ç–∫–∏**:
  - –ü–æ –º–µ—Ä–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—É–Ω–∫—Ç–æ–≤ roadmap –±—É–¥—É –æ—Ç–º–µ—á–∞—Ç—å –≥–∞–ª–æ—á–∫–∞–º–∏ –∏ –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å –∫–ª—é—á–µ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–¥–µ—Å—å (–¥–ª—è ‚Äú–∏—Å—Ç–æ—Ä–∏–∏‚Äù).



## 2025-12-19 ‚Äî TRON auto-sweep: –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ + –∑–∞—â–∏—Ç–∞ –æ—Ç OUT_OF_ENERGY

- **–°–∫–æ—É–ø**: payments / TRON
- **–°–¥–µ–ª–∞–Ω–æ**:
  - –í `TRON` sweep –¥–æ–±–∞–≤–ª–µ–Ω–æ –æ–∂–∏–¥–∞–Ω–∏–µ —Ñ–∏–Ω–∞–ª–∏–∑–∞—Ü–∏–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ (receipt) –∏ —è–≤–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ (`SUCCESS` vs `FAILED/OUT_OF_ENERGY`).
  - –£–ª—É—á—à–µ–Ω—ã —Å–æ–æ–±—â–µ–Ω–∏—è –æ—à–∏–±–æ–∫ (–≤–∫–ª—é—á–∞—è –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ `resMessage`), —á—Ç–æ–±—ã –ø–æ –ª–æ–≥–∞–º –±—ã–ª–æ –ø–æ–Ω—è—Ç–Ω–æ, –ø–æ—á–µ–º—É sweep –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª.
  - –ò–∑–º–µ–Ω—ë–Ω topup: —Ç–µ–ø–µ—Ä—å –º—ã –¥–æ–≤–æ–¥–∏–º TRX –±–∞–ª–∞–Ω—Å pay-–∞–¥—Ä–µ—Å–∞ –¥–æ —Ü–µ–ª–µ–≤–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è (–∞ –Ω–µ —à–ª—ë–º —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Å—É–º–º—É "–≤—Å–ª–µ–ø—É—é").
  - –ü—Ä–∏ `OUT_OF_ENERGY` –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ–≤—Ç–æ—Ä–Ω–∞—è –ø–æ–ø—ã—Ç–∫–∞ —Å –ø–æ–≤—ã—à–µ–Ω–Ω—ã–º `feeLimit` –∏ —É–≤–µ–ª–∏—á–µ–Ω–Ω—ã–º —Ü–µ–ª–µ–≤—ã–º TRX –±–∞–ª–∞–Ω—Å–æ–º.
  - –í `payments-worker` –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ sweep –æ–±–Ω–æ–≤–ª–µ–Ω–æ –Ω–∞ `topupTxs` (–º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ topup –ø—Ä–∏ —Ä–µ—Ç—Ä–∞—è—Ö).
- **–ü—Ä–∏—á–∏–Ω–∞**:
  - –†–∞–Ω–µ–µ sweep –º–æ–≥ –≤–µ—Ä–Ω—É—Ç—å `txid`, —Ö–æ—Ç—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è —Ä–µ–∞–ª—å–Ω–æ –∑–∞–≤–µ—Ä—à–∞–ª–∞—Å—å `OUT_OF_ENERGY` ‚Äî USDT –æ—Å—Ç–∞–≤–∞–ª—Å—è –Ω–∞ pay-–∞–¥—Ä–µ—Å–µ, —Ç—Ä–µ–±—É—è —Ä—É—á–Ω–æ–≥–æ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–∞.
- **–§–∞–π–ª—ã**:
  - `src/payments/tron/sweep.ts`
  - `src/workers/paymentsWorker.ts`
  - `env.example`
- **–ó–∞–º–µ—Ç–∫–∏**:
  - –î–ª—è –ø—Ä–æ–¥-–Ω–∞–¥—ë–∂–Ω–æ—Å—Ç–∏ –≤—ã—Å—Ç–∞–≤–∏–ª–∏ `TRON_SWEEP_TOPUP_TRX=30` (–≤ `.env`), —á—Ç–æ–±—ã —É pay-–∞–¥—Ä–µ—Å–∞ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ –±—ã–ª–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ TRX –¥–ª—è –æ–ø–ª–∞—Ç—ã —ç–Ω–µ—Ä–≥–∏–∏.

## 2025-12-19 ‚Äî TRON Energy freeze/delegation: –ø—Ä–æ—Ç–æ—Ç–∏–ø + –≤—ã–≤–æ–¥ –ø–æ —ç–∫–æ–Ω–æ–º–∏–∫–µ

- **–°–∫–æ—É–ø**: payments / TRON
- **–°–¥–µ–ª–∞–Ω–æ**:
  - –î–æ–±–∞–≤–ª–µ–Ω –ø—Ä–æ—Ç–æ—Ç–∏–ø –∫–æ–¥–∞ –¥–ª—è TRON resource delegation (freezeBalanceV2 ENERGY + delegate/undelegate).
  - –î–æ–±–∞–≤–ª–µ–Ω—ã env –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ `TRON_DELEGATION_*` –∏ –æ–±–Ω–æ–≤–ª—ë–Ω `env.example`.
  - –ü—Ä–æ–≤–µ–¥—ë–Ω –ø—Ä–æ–±–Ω—ã–π `freezeBalanceV2` –Ω–∞ 1 TRX, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ –ø–æ—è–≤–ª–µ–Ω–∏–µ `EnergyLimit` –≤ `getAccountResources`.
- **–í—ã–≤–æ–¥ / –ø—Ä–∏—á–∏–Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–ª–∞–Ω–∞**:
  - –ü–æ —Ç–µ–∫—É—â–∏–º –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º —Å–µ—Ç–∏ TRON –Ω–∞ mainnet 1 TRX frozen –¥–∞—ë—Ç –ø—Ä–∏–º–µ—Ä–Ω–æ `TotalEnergyLimit/TotalEnergyWeight ‚âà 9.4` Energy.
  - `USDT.transfer()` –ø–æ—Ç—Ä–µ–±–ª—è–µ—Ç –ø–æ—Ä—è–¥–∫–∞ ~100k Energy, –ø–æ—ç—Ç–æ–º—É –¥–ª—è –ø–æ–∫—Ä—ã—Ç–∏—è –æ–¥–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ ‚Äú–Ω–∞ —ç–Ω–µ—Ä–≥–∏–∏‚Äù –Ω—É–∂–Ω–æ –º–æ—Ä–æ–∑–∏—Ç—å –ø–æ—Ä—è–¥–∫–∞ 10k+ TRX.
  - –°–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ, freeze+delegation —Å –±—é–¥–∂–µ—Ç–æ–º 100‚Äì200 TRX —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏ –Ω–µ —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É –∫–æ–º–∏—Å—Å–∏–π; –¥–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è –∑–∞—Ç—Ä–∞—Ç –Ω—É–∂–Ω—ã –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã: –∞—Ä–µ–Ω–¥–∞ —ç–Ω–µ—Ä–≥–∏–∏ (delegation-as-a-service) –∏–ª–∏ —Å–º–µ–Ω–∞ –º–æ–¥–µ–ª–∏ –ø–ª–∞—Ç–µ–∂–µ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä –æ–¥–∏–Ω –∞–¥—Ä–µ—Å + —É–Ω–∏–∫–∞–ª—å–Ω–∞—è —Å—É–º–º–∞).
- **–§–∞–π–ª—ã**:
  - `src/payments/tron/delegation.ts`
  - `src/payments/tron/sweep.ts`
  - `src/core/config.ts`
  - `src/workers/paymentsWorker.ts`
  - `env.example`

## 2025-12-19 ‚Äî –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –ø–ª–∞—Ç—ë–∂–Ω—ã–π –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä (NOWPayments) –∏ —É–¥–∞–ª–µ–Ω–∏–µ TRON –ø–æ–¥—Å–∏—Å—Ç–µ–º—ã

- **–°–∫–æ—É–ø**: payments / db / docs
- **–°–¥–µ–ª–∞–Ω–æ**:
  - –ü–µ—Ä–µ—Ö–æ–¥ —Å —Å–∞–º–æ–ø–∏—Å–Ω–æ–≥–æ TRON –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ (TronGrid/HD/mnemonic/sweep) –Ω–∞ **NOWPayments**.
  - –î–æ–±–∞–≤–ª–µ–Ω –∫–ª–∏–µ–Ω—Ç NOWPayments (`POST /v1/payment`, `GET /v1/payment/{id}`) –∏ –Ω–æ–≤—ã–π –∫–æ–Ω—Ñ–∏–≥ `NOWPAYMENTS_*`.
  - –ë–æ—Ç —Ç–µ–ø–µ—Ä—å —Å–æ–∑–¥–∞—ë—Ç –∏–Ω–≤–æ–π—Å —á–µ—Ä–µ–∑ NOWPayments –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Ä–µ–∫–≤–∏–∑–∏—Ç—ã –æ–ø–ª–∞—Ç—ã (–∞–¥—Ä–µ—Å/—Å—É–º–º–∞/–≤–∞–ª—é—Ç–∞, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ invoice URL).
  - `payments-worker` —Ç–µ–ø–µ—Ä—å –æ–ø—Ä–∞—à–∏–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å –ø–ª–∞—Ç–µ–∂–∞ –ø–æ `provider_payment_id` –∏ –ø–µ—Ä–µ–≤–æ–¥–∏—Ç –∑–∞–∫–∞–∑ –≤ `PAID`.
  - –ú–∏–≥—Ä–∞—Ü–∏—è –ë–î: —É–¥–∞–ª–µ–Ω—ã `tron_hd_state`/`hd_index`, –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–ª—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ (`provider_payment_id`, `provider_status`, `pay_currency`, `pay_amount`, `invoice_url`).
  - –£–¥–∞–ª—ë–Ω –∫–æ–¥ `src/payments/tron/**` –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å `tronweb`.
  - –û–±–Ω–æ–≤–ª–µ–Ω—ã –¥–æ–∫—É–º–µ–Ω—Ç—ã –¥–µ–ø–ª–æ—è/hand-off/roadmap —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–¥ NOWPayments.
- **–ü—Ä–∏—á–∏–Ω–∞**:
  - TRON energy/TRX –∫–æ–º–∏—Å—Å–∏–∏ –Ω–∞ `USDT.transfer()` –∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å sweep –¥–µ–ª–∞—é—Ç —Å–∞–º–æ–ø–∏—Å–Ω—ã–π —Å–±–æ—Ä —Å—Ä–µ–¥—Å—Ç–≤ —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏/–æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ –Ω–µ–≤—ã–≥–æ–¥–Ω—ã–º.
  - –ê–≥—Ä–µ–≥–∞—Ç–æ—Ä —Å–Ω–∏–º–∞–µ—Ç —Å –Ω–∞—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ TRON-–∫–æ—à–µ–ª—å–∫–∞–º–∏ –∏ ‚Äú—ç–Ω–µ—Ä–≥–∏–µ–π‚Äù.
- **–§–∞–π–ª—ã**:
  - `src/payments/nowpayments/client.ts`
  - `src/bot/bot.ts`
  - `src/workers/paymentsWorker.ts`
  - `src/db/migrations/003_payments_nowpayments.sql`
  - `src/db/migrations/001_init.sql`
  - `src/db/repos/ordersRepo.ts`
  - `src/db/types.ts`
  - `src/core/config.ts`
  - `env.example`
  - `docs/03_DEBIAN12_SETUP.md`, `docs/04_HANDOFF_DEBIAN12_CHAT_RU.md`, `docs/05_TEST_ROADMAP_RU.md`, `docs/00_ROADMAP_RU.md`, `docs/02_TEST_PLAN_RU.md`, `docs/project.md`, `docs/README.md`
